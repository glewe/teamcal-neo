{% extends "layout.twig" %}

{% block content %}
  <!-- ====================================================================
    view.viewprofile
    -->
  <div class="container content">

    <div class="col-lg-12">
      {% if showAlert and showAlerts != "none" and (showAlerts == "all" or (showAlerts == "warnings" and (alertData.type == "warning" or alertData.type == "danger"))) %}
        {{ createAlertBox(alertData)|raw }}
      {% endif %}

      <div class="card">
        <div class="card-header text-bg-{{ CONF.controllers[controller].panelColor }}">
          <i class="{{ CONF.controllers[controller].faIcon }} fa-lg me-3"></i>
          {{ LANG.profile_view_title ~ fullname }}
          ({{ username }})
          {% if C.read('pageHelp') %}
            <a href="{{ CONF.controllers[controller].docurl }}" target="_blank" class="float-end" style="color:inherit;">
              <i class="bi bi-question-circle-fill bi-lg"></i>
            </a>
          {% endif %}
        </div>

        <div class="card-body">

          {% if allowEdit or allowAbsum %}
            <div class="mb-4 text-end">
              {% set tabindex = 0 %}
              {% if allowEdit %}
                {% set tabindex = tabindex + 1 %}
                <a class="btn btn-primary" tabindex="{{ tabindex }}" href="index.php?action={{ CONF.controllers['useredit'].name }}&amp;profile={{ username }}">{{ LANG.btn_edit }}</a>
              {% endif %}
              {% if allowAbsum %}
                {% set tabindex = tabindex + 1 %}
                <a class="btn btn-info" tabindex="{{ tabindex }}" href="index.php?action={{ CONF.controllers['absum'].name }}&amp;user={{ username }}">{{ LANG.btn_absum }}</a>
              {% endif %}
            </div>
          {% endif %}

          <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
              <tbody>
                <tr>
                  <td>
                    <i class="fas fa-camera text-default" style="width: 26px;"></i>
                    <strong>{{ LANG.profile_avatar }}</strong>
                  </td>
                  <td><img src="{{ constant('WEBSITE_URL') ~ constant('APP_AVATAR_DIR') ~ avatar }}" alt="" class="boxshadow-1" style="width: 80px; height: 80px; padding: 4px; border: 1px solid #999999;"></td>
                </tr>
                <tr>
                  <td>
                    <i class="fas fa-user-circle text-default" style="width: 26px;"></i>
                    <strong>{{ LANG.profile_role }}</strong>
                  </td>
                  <td>{{ role }}</td>
                </tr>
                {% if title|length > 0 %}
                  <tr>
                    <td>
                      <i class="fas fa-pencil-alt text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_title }}</strong>
                    </td>
                    <td>{{ title }}</td>
                  </tr>
                {% endif %}
                {% if position|length > 0 %}
                  <tr>
                    <td>
                      <i class="fas fa-building text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_position }}</strong>
                    </td>
                    <td>{{ position }}</td>
                  </tr>
                {% endif %}
                {% if email|length > 0 %}
                  <tr>
                    <td>
                      <i class="fas fa-envelope text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_email }}</strong>
                    </td>
                    <td>{{ email }}</td>
                  </tr>
                {% endif %}
                {% if phone|length > 0 %}
                  <tr>
                    <td>
                      <i class="fas fa-phone text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_phone }}</strong>
                    </td>
                    <td>{{ phone }}</td>
                  </tr>
                {% endif %}
                {% if mobile|length > 0 %}
                  <tr>
                    <td>
                      <i class="fas fa-mobile-alt text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_mobilephone }}</strong>
                    </td>
                    <td>{{ mobile }}</td>
                  </tr>
                {% endif %}
                {% if facebook|length > 0 %}
                  <tr>
                    <td>
                      <i class="fab fa-facebook text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_facebook }}</strong>
                    </td>
                    <td>{{ facebook }}</td>
                  </tr>
                {% endif %}
                {% if google|length > 0 %}
                  <tr>
                    <td>
                      <i class="fab fa-google-plus text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_google }}</strong>
                    </td>
                    <td>{{ google }}</td>
                  </tr>
                {% endif %}
                {% if linkedin|length > 0 %}
                  <tr>
                    <td>
                      <i class="fab fa-linkedin text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_linkedin }}</strong>
                    </td>
                    <td>{{ linkedin }}</td>
                  </tr>
                {% endif %}
                {% if skype|length > 0 %}
                  <tr>
                    <td>
                      <i class="fab fa-skype text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_skype }}</strong>
                    </td>
                    <td>{{ skype }}</td>
                  </tr>
                {% endif %}
                {% if twitter|length > 0 %}
                  <tr>
                    <td>
                      <i class="fab fa-twitter text-default" style="width: 26px;"></i>
                      <strong>{{ LANG.profile_twitter }}</strong>
                    </td>
                    <td>{{ twitter }}</td>
                  </tr>
                {% endif %}

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
